{"version":3,"sources":["API/tablesAPI.js","API/notesAPI.js","containers/Title.js","utils/tablesUtils.js","config.js","containers/PreviewNote.js","containers/Table.js","containers/CreateTable.js","utils/notesUtils.js","containers/NotesList.js","Icons/NotesIllustration.js","containers/LandingPage.js","containers/Home.js","containers/NotFound.js","components/LoaderButton.js","components/StyledAuthentication.js","containers/Login.js","containers/SignUp.js","components/AppliedRoute.js","libs/awsLib.js","components/StyledNote.js","containers/NewNote.js","containers/NewTable.js","containers/Notes.js","components/AuthenticatedRoute.js","components/UnAuthenticatedRoute.js","components/Error.js","Routes.js","themes/light.js","themes/dark.js","App.js","serviceWorker.js","index.js"],"names":["postInitialTable","a","result","API","post","body","tableName","e","alert","createTable","updateTable","tableId","notes","put","getTable","get","listTables","deleteTable","del","createNote","note","getNotes","getNote","noteId","updateNoteTable","response","content","attachment","noteTable","deleteNote","saveNote","Header","styled","textarea","props","theme","colors","secondaryText","noteColor","appBackground","Title","handleBlur","saveTitle","onTitleChange","preventDefault","newTitle","target","value","setState","onEnterPress","keyCode","shiftKey","state","length","resetTitle","validateTableTitle","title","updateTitle","this","onChange","onKeyDown","onBlur","rows","Component","getTableName","tables","id","find","table","getTableIds","forEach","push","getTableNoteObj","index","noteIndex","MAX_ATTACHMENT_SIZE","s3","REGION","BUCKET","apiGateway","URL","cognito","USER_POOL_ID","APP_CLIENT_ID","IDENTITY_POOL_ID","MIN_PASSWORD_LENGTH","NoteContainer","div","NoteCard","TextContainer","NoteText","PreviewNote","updateTableNotes","useState","noteContent","setNoteContent","uuid","require","addNoteToTable","newNotes","idx","then","onKeyPress","substring","placeholder","Table","removeTable","setTitle","tableNotes","setTableNotes","useEffect","console","log","TableContainer","cardBackground","shadowColor","primaryText","NotesContainer","HeaderContainer","NoteLink","LinkContainer","DeleteButton","p","NoteDate","span","asyncForEach","array","callback","i","handleDelete","window","confirm","getItemStyle","isDragging","boxShadow","key","onClick","icon","faTimes","size","style","display","width","droppableId","provided","snapshot","droppableProps","ref","innerRef","map","draggableId","draggableProps","dragHandleProps","to","text","Date","createdAt","toLocaleString","renderNote","isDragDisabled","CreateTable","addTable","NewTableBtn","buttonColor","handleClick","faPlus","getNotesByTable","getGroupedNotes","groupedNotes","TablesContainer","CreateContainer","DragDropContainer","reorder","list","startIndex","endIndex","Array","from","splice","removed","move","source","destination","droppableSource","droppableDestination","sourceClone","destinationClone","NotesList","updateNotesIndexes","noteObj","newTables","filter","onDragEnd","sourceTableId","destinationTableId","destinationNotesLength","orderedNotes","isLoading","preview","tableNote","reorderNotes","faSpinner","spin","NotesIllustration","data-name","height","viewBox","x1","y1","x2","gradientUnits","offset","stopColor","stopOpacity","y2","xlinkHref","fill","d","opacity","cx","cy","r","transform","LandingPage","Container","Illustration","h1","position","left","top","HomeContainer","CreateNote","NotesHeader","Home","isAuthenticated","rawNotes","tableIds","pathname","renderNotesList","renderNotes","className","loadingText","disabled","colorType","colorBtn","Button","button","disabledColor","faSync","margin","AuthContainer","Label","Login","validateForm","email","password","COSTANTS","handleChange","handleSubmit","Auth","signIn","userHasAuthenticated","errDescription","message","onSubmit","FormGroup","controlId","FormControl","type","LoaderButton","block","SignUp","validatePassword","regex","RegExp","confirmPassword","clearTimeout","timeout","isValidPassword","isValidConfirmPassword","setTimeout","match","handlePasswordChange","signUp","username","newUser","name","resendSignUp","handleConfirmationSubmit","confirmSignUp","confirmationCode","history","autoFocus","FormText","validateConfirmationForm","Alert","variant","renderForm","renderConfirmationForm","C","component","cProps","rest","render","s3Upload","file","fileName","now","Storage","vault","contentType","stored","Group","h3","InputText","InputFile","input","LabelFile","label","FileText","Select","select","NewNote","handleFileChange","files","config","tableObj","newNote","autoComplete","htmlFor","renderTablesOptions","NewTable","setTableName","setIsLoading","ButtonsContainer","Notes","oldAttachment","removeAttachment","params","removeNoteFromTable","isDeleting","attachmentURL","remove","newTableNotes","str","replace","textAlign","href","rel","formatFileName","location","search","redirect","url","results","exec","decodeURIComponent","querystring","Error","Heading","childProps","AppliedRoute","path","exact","UnAuthenticatedRoute","AuthenticatedRoute","NotFound","background","draggingColor","AppContainer","Logo","Switch","Slider","CheckBox","AuthenticationBtn","App","authenticated","handleLogout","signOut","toggleDarkMode","darkMode","isAuthenticating","currentSession","darkTheme","lightTheme","Navbar","fluid","collapseOnSelect","Brand","Toggle","Collapse","Nav","Link","Routes","withRouter","Boolean","hostname","Amplify","configure","mandatorySignIn","region","userPoolId","identityPoolId","userPoolWebClientId","bucket","endpoints","endpoint","ReactDOM","basename","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4220b87a.chunk.js","sourcesContent":["import { API } from \"aws-amplify\";\n\n//POSTs & UPDATEs\n\n/**\n * Creates the initial table on SignUp\n * @return {Promise} Promise response\n */\nexport const postInitialTable = async () => {\n  let result;\n  try {\n    result = API.post(\"notes\", \"/tables\", {\n      body: {\n        tableName: \"To do\"\n      }\n    });\n  } catch (e) {\n    alert(e);\n  }\n  return await result;\n};\n\n/**\n * POST a new Table\n * @param {string} tableName The name of the table\n * @return {Promise} Promise response\n */\nexport const createTable = async tableName => {\n  let result;\n  try {\n    result = API.post(\"notes\", \"/tables\", {\n      body: {\n        tableName: tableName\n      }\n    });\n  } catch (e) {\n    alert(e);\n  }\n  return await result;\n};\n\n/**\n * Updates the desired table\n * @param {string} tableId ID of the table\n * @param {string} tableName Name of the table\n * @param {Array} notes Notes Array to be updated\n * @return {Promise} Promise response\n */\nexport const updateTable = async (tableId, tableName, notes) => {\n  let result;\n  try {\n    result = API.put(\"notes\", `/tables/${tableId}`, {\n      body: {\n        tableName: tableName,\n        notes: notes\n      }\n    });\n  } catch (e) {\n    alert(e);\n  }\n  return result;\n};\n\n//GETs & LISTs\n\n/**\n * Gets the Table Object based on the tableId\n * @param {string} tableId ID of the table\n * @return {Promise} Promise response\n */\nexport const getTable = async tableId => {\n  let result;\n  try {\n    result = API.get(\"notes\", `/tables/${tableId}`);\n  } catch (e) {\n    alert(e);\n  }\n  return await result;\n};\n\n/**\n * Lists tables\n *\n * @return {Array} Tables Array\n */\nexport const listTables = async () => {\n  let result;\n  try {\n    result = API.get(\"notes\", \"/tables\");\n  } catch (e) {\n    alert(e);\n  }\n  return await result;\n};\n\n/**\n * Deletes table by ID\n * @param {string} tableId ID of the table\n *\n * @return {Promise} Promise response\n */\nexport const deleteTable = async tableId => {\n  let result;\n  try {\n    result = API.del(\"notes\", `/tables/${tableId}`);\n  } catch (e) {\n    alert(e);\n  }\n\n  return await result;\n};\n","import { API } from \"aws-amplify\";\n\n/**\n * Creates a note\n * @param {Object} note Note content\n */\nexport const createNote = note => {\n  return API.post(\"notes\", \"/notes\", {\n    body: note\n  });\n};\n\n/**\n * Gets total notes\n *\n * @return {Promise} Promise response\n */\nexport const getNotes = async () => {\n  return await API.get(\"notes\", \"/notes\");\n};\n\n/**\n * Gets a single note\n * @param {string} noteId ID of the note\n *\n * @return {Promise} Promise response\n */\nexport const getNote = async noteId => {\n  let result;\n  try {\n    result = API.get(\"notes\", `/notes/${noteId}`);\n  } catch (e) {\n    alert(e);\n  }\n  return await result;\n};\n\n/**\n * PUTs noteTable property to note\n * @param {Array} note The correct note to be updated\n *\n * @return {Promise} Promise response\n */\nexport const updateNoteTable = async note => {\n  const noteId = note.noteId;\n  let response;\n  try {\n    response = API.put(\"notes\", `/notes/${noteId}`, {\n      body: {\n        content: note.content,\n        attachment: note.attachment,\n        noteTable: note.noteTable\n      }\n    });\n  } catch (e) {\n    alert(e);\n  }\n\n  return await response;\n};\n\n/**\n * Deletes note by ID\n * @param {string} noteId ID of the note\n *\n * @return {Promise} Promise response\n */\nexport const deleteNote = async noteId => {\n  let result;\n  try {\n    result = API.del(\"notes\", `/notes/${noteId}`);\n  } catch (e) {\n    alert(e);\n  }\n\n  return await result;\n};\n\n/**\n * PUTs a note\n * @param {Object} note Note body value\n * @param {string} noteId ID of the note\n *\n * @return {Promise} Promise response\n */\nexport const saveNote = async (note, noteId) => {\n  let result;\n  try {\n    result = API.put(\"notes\", `/notes/${noteId}`, {\n      body: note\n    });\n  } catch (e) {\n    alert(e);\n  }\n\n  return await result;\n};\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { updateTable } from \"../API/tablesAPI\";\n\nconst Header = styled.textarea`\n  font-family: \"Nunito\", sans-serif;\n  font-weight: 700;\n  font-size: 32px;\n  padding-left: 5px;\n  color: ${props => props.theme.colors.secondaryText};\n  background-color: transparent;\n  resize: none;\n  border: 1px solid transparent;\n  transition: background-color 0.3s ease-in-out;\n\n  &:hover {\n    border: 1px solid ${props => props.theme.colors.noteColor};\n    background-color: ${props => props.theme.colors.appBackground};\n  }\n`;\n\nclass Title extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      title: this.props.value,\n      newTitle: this.props.value\n    };\n  }\n\n  /**\n   * Validates table title. Returns true if length > 0 and if it's different from the previous\n   *\n   * @return {Boolean} Boolean value\n   */\n  validateTableTitle() {\n    return (\n      this.state.newTitle.length > 0 && this.state.newTitle !== this.state.title\n    );\n  }\n\n  // Resets the title to the old one\n  resetTitle() {\n    this.setState({ newTitle: this.state.title });\n  }\n\n  // Save title on click outside\n  handleBlur = async () => {\n    await this.saveTitle();\n  };\n\n  /**\n   * Sets the state with new title\n   * @param {Object} e Event Object\n   */\n  onTitleChange = e => {\n    e.preventDefault();\n    const newTitle = e.target.value;\n    this.setState({ newTitle });\n  };\n\n  /**\n   * Saves the title on enter pressed\n   * @param {Object} e Event Object\n   */\n  onEnterPress = async e => {\n    if (e.keyCode === 13 && e.shiftKey === false) {\n      e.preventDefault();\n      await this.saveTitle();\n    }\n  };\n\n  // Saves the title and updates table\n  saveTitle = async () => {\n    if (!this.state.newTitle.length) {\n      this.resetTitle();\n      return;\n    } else if (this.validateTableTitle()) {\n      const { tableId, notes } = this.props;\n      const newTitle = this.state.newTitle;\n\n      this.setState({ title: newTitle });\n      this.props.updateTitle(newTitle);\n      await updateTable(tableId, newTitle, notes);\n    }\n  };\n\n  render() {\n    return (\n      <Header\n        value={this.state.newTitle}\n        onChange={this.onTitleChange}\n        onKeyDown={this.onEnterPress}\n        onBlur={this.handleBlur}\n        rows=\"1\"\n      ></Header>\n    );\n  }\n}\n\nexport default Title;\n","/**\n * Gets the tableName property\n * @param {Array} tables Total tables\n * @param {string} id The id to match the desired table\n * @return {string} Name of the table\n */\nexport const getTableName = (tables, id) => {\n  const tableMatched = tables.find(table => {\n    return table.tableId === id;\n  });\n  return tableMatched.tableName;\n};\n\n/**\n * Gets the tables IDs from the total tables\n * @param {Array} tables Total tables\n * @return {Array} An array of tables IDs\n */\nexport const getTableIds = tables => {\n  let result = [];\n  tables.forEach(table => {\n    result.push(table.tableId);\n  });\n  return result;\n};\n\n/**\n * Gets note object for table format\n * @param {string} noteId ID of the note\n * @param {Number} index Index of the note\n *\n * @return {Object} Note Object to be added to the table\n */\nexport const getTableNoteObj = (noteId, index) => ({\n  noteId: noteId,\n  noteIndex: index\n});\n","export default {\n  MAX_ATTACHMENT_SIZE: 5000000,\n  s3: {\n    REGION: \"eu-central-1\",\n    BUCKET: \"uploads-notes\"\n  },\n  apiGateway: {\n    REGION: \"eu-central-1\",\n    URL: \"https://ujavcpn1qa.execute-api.eu-central-1.amazonaws.com/prod\"\n  },\n  cognito: {\n    REGION: \"eu-central-1\",\n    USER_POOL_ID: \"eu-central-1_wcrQVtXm7\",\n    APP_CLIENT_ID: \"npgk5kvccgdp9281gfugggfpv\",\n    IDENTITY_POOL_ID: \"eu-central-1:7923923e-0abf-4d63-8906-bd04418f6ddb\"\n  }\n};\n\nexport const MAX_CONTENT_LENGTH = 33;\n\nexport const MIN_PASSWORD_LENGTH = 8;\n","import React, { useState } from \"react\";\nimport { createNote, getNote } from \"../API/notesAPI\";\nimport { updateTable } from \"../API/tablesAPI\";\nimport { getTableNoteObj } from \"../utils/tablesUtils\";\nimport styled from \"styled-components\";\nimport * as COSTANTS from \"../config\";\n\nconst NoteContainer = styled.div`\n  height: auto;\n  padding: 15px 0;\n`;\n\nconst NoteCard = styled.div`\n  background-color: ${props => props.theme.colors.noteColor};\n  position: relative;\n  text-align: center;\n  width: 100%;\n  height: 60px;\n  border-radius: 15px;\n  border: 1px solid transparent;\n  transition: border 0.1s ease-in-out;\n  &:hover {\n    border: 1px solid ${props => props.theme.colors.secondaryText};\n  }\n`;\n\nconst TextContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n`;\n\nconst NoteText = styled.textarea`\n  border: none;\n  resize: none;\n  width: 80%;\n  background-color: transparent;\n  height: 35px;\n  line-height: 30px;\n  font-size: 18px;\n  display: inline-block;\n`;\n\nconst PreviewNote = ({ tableId, tableName, notes, updateTableNotes }) => {\n  const [noteContent, setNoteContent] = useState(\"\");\n\n  // Note content should not be empty\n  const validateContent = () => {\n    return noteContent.length > 0;\n  };\n\n  // Create note and add it to table\n  const saveNote = async () => {\n    if (!validateContent()) {\n      return;\n    }\n\n    const uuid = require(\"uuid/v1\");\n    const noteId = uuid();\n\n    await createNote({\n      noteId: noteId,\n      noteTable: tableId,\n      content: noteContent\n    });\n\n    await addNoteToTable(noteId);\n  };\n\n  /**\n   * Updates the table with the new note merged\n   * @param {string} noteId ID of the note\n   */\n  const addNoteToTable = async noteId => {\n    const newNotes = notes ? [...notes] : [];\n    const idx = newNotes.length;\n    const note = getTableNoteObj(noteId, idx);\n    newNotes.push(note);\n\n    updateTable(tableId, tableName, newNotes).then(() => {\n      getNote(noteId).then(note => updateTableNotes(note));\n    });\n  };\n\n  /**\n   * Handler for text change\n   * @param {Object} e Event Object\n   */\n  const handleTextChange = e => {\n    if (noteContent.length < COSTANTS.MAX_CONTENT_LENGTH) {\n      setNoteContent(e.target.value);\n    }\n  };\n\n  // Handler for click outside\n  const handleBlur = async () => {\n    await saveNote();\n  };\n\n  /**\n   * Handler for enter key and backspace\n   * @param {Object} e Event Object\n   */\n  const onKeyPress = async e => {\n    if (e.keyCode === 13 && e.shiftKey === false) {\n      e.preventDefault();\n      await saveNote();\n    } else if (e.keyCode === 8 && noteContent.length > 0) {\n      setNoteContent(noteContent.substring(0, noteContent.length - 1));\n    }\n  };\n\n  return (\n    <NoteContainer>\n      <NoteCard>\n        <TextContainer>\n          <NoteText\n            rows=\"1\"\n            placeholder=\"Enter note content...\"\n            value={noteContent}\n            onChange={handleTextChange}\n            onKeyDown={onKeyPress}\n            onBlur={handleBlur}\n          ></NoteText>\n        </TextContainer>\n      </NoteCard>\n    </NoteContainer>\n  );\n};\n\nexport default PreviewNote;\n","import React, { useState, useEffect } from \"react\";\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { deleteTable } from \"../API/tablesAPI\";\nimport { deleteNote } from \"../API/notesAPI\";\nimport styled from \"styled-components\";\nimport Title from \"./Title\";\nimport PreviewNote from \"./PreviewNote\";\nimport * as COSTANTS from \"../config\";\n\nconst Table = ({\n  tableName,\n  tableId,\n  notes,\n  removeTable,\n  updateTableNotes\n}) => {\n  const [title, setTitle] = useState(tableName);\n  const [tableNotes, setTableNotes] = useState(notes);\n\n  useEffect(() => {\n    setTableNotes(notes);\n    console.log(\"call\");\n  }, [notes]);\n\n  const TableContainer = styled.div`\n    display: inline-block;\n    background-color: ${props => props.theme.colors.cardBackground};\n    box-shadow: 0px 0px 5px -1px ${props => props.theme.colors.shadowColor};\n    width: 400px;\n    min-height: 270px;\n    flex-grow: 1;\n    border-radius: 10px;\n    margin: 10px;\n    padding: 20px;\n    & h4 {\n      padding: 0;\n      margin: 0;\n      text-align: left;\n      color: ${props => props.theme.colors.primaryText};\n    }\n  `;\n\n  const NotesContainer = styled.div`\n    min-height: 70%;\n    width: 100%;\n  `;\n\n  const HeaderContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20px;\n  `;\n\n  const NoteContainer = styled.div`\n    height: auto;\n    padding: 15px 0;\n  `;\n\n  const NoteLink = styled(LinkContainer)`\n    padding: 0;\n    margin: 0;\n    width: 100%;\n    transition: transform 0.3s ease-in-out;\n  `;\n\n  const NoteCard = styled.div`\n    background-color: ${props => props.theme.colors.noteColor};\n    position: relative;\n    text-align: center;\n    width: 100%;\n    height: 60px;\n    border-radius: 15px;\n    border: 1px solid transparent;\n    transition: border 0.1s ease-in-out;\n    &:hover {\n      border: 1px solid ${props => props.theme.colors.secondaryText};\n    }\n  `;\n\n  const DeleteButton = styled.div`\n    width: 25px;\n    height: 25px;\n    cursor: pointer;\n    border-radius: 50%;\n    border: 1px solid red;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: ${props => props.theme.colors.secondaryText};\n    transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;\n    text-align: center;\n    vertical-align: middle;\n    &:hover {\n      background-color: red;\n      color: white;\n    }\n    & span {\n      font-size: 14px;\n      font-weight: bold;\n      display: inline-block;\n      width: 100%;\n    }\n  `;\n\n  const TextContainer = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    line-height: 50px;\n  `;\n\n  const NoteText = styled.p`\n    font-size: 18px;\n    display: block;\n    margin: 0;\n  `;\n\n  const NoteDate = styled.span`\n    font-size: 12px;\n    position: absolute;\n    bottom: 5px;\n    right: 10px;\n  `;\n\n  /**\n   * Updates table title\n   * @param {string} newTitle New table title\n   */\n  const updateTitle = newTitle => {\n    setTitle(newTitle);\n  };\n\n  /**\n   * Helper forEach with async/await\n   * @param {Array} array Array to be iterated\n   * @param {Function} callback Callback async function\n   */\n  const asyncForEach = async (array, callback) => {\n    if (!array) {\n      return;\n    }\n    for (let i = 0; i < array.length; i++) {\n      await callback(array[i], i, array);\n    }\n  };\n\n  /**\n   * Deletes a table and its corresponding notes\n   * @param {string} tableId ID of the table\n   * @param {Array} notes Notes Object of the table to be deleted\n   */\n  const handleDelete = async (tableId, notes) => {\n    const confirmed = window.confirm(\n      \"Are you sure you want to delete this table?\"\n    );\n\n    if (!confirmed) {\n      return;\n    }\n    console.log(tableId);\n    await deleteTable(tableId);\n    asyncForEach(notes, async note => {\n      await deleteNote(note.noteId);\n    });\n    removeTable(tableId);\n  };\n\n  /**\n   * Changes style to dragging note\n   * @param {Boolean} isDragging Boolean value\n   */\n  const getItemStyle = isDragging => ({\n    boxShadow: isDragging ? \"0px 0px 5px -1px #0a0a0a\" : \"none\"\n  });\n\n  /**\n   * Trims the note content to be displayed if too long\n   * @param {string} text Note content\n   */\n  const formatText = text => {\n    if (text.length > COSTANTS.MAX_CONTENT_LENGTH) {\n      return text.substring(0, 40);\n    } else {\n      return text;\n    }\n  };\n\n  /**\n   * Note Card render function\n   * @param {Object} note Note Object\n   * @param {Boolean} isDragging Boolean value\n   */\n  const renderNote = (note, isDragging) => (\n    <NoteContainer>\n      <NoteLink to={`/notes/${note.noteId}`} style={getItemStyle(isDragging)}>\n        <NoteCard>\n          <TextContainer>\n            <NoteText>{formatText(note.content)}</NoteText>\n          </TextContainer>\n\n          <NoteDate>{new Date(note.createdAt).toLocaleString()}</NoteDate>\n        </NoteCard>\n      </NoteLink>\n    </NoteContainer>\n  );\n\n  return (\n    <>\n      <TableContainer key={tableId}>\n        <HeaderContainer>\n          <Title\n            value={title}\n            updateTitle={updateTitle}\n            tableId={tableId}\n            notes={tableNotes}\n          ></Title>\n\n          <DeleteButton onClick={() => handleDelete(tableId, tableNotes)}>\n            <FontAwesomeIcon\n              icon={faTimes}\n              size=\"sm\"\n              style={{ display: \"inline-block\", width: \"100%\" }}\n            />\n          </DeleteButton>\n        </HeaderContainer>\n        <Droppable droppableId={tableId} key={tableId}>\n          {(provided, snapshot) => (\n            <NotesContainer\n              {...provided.droppableProps}\n              ref={provided.innerRef}\n            >\n              {tableNotes &&\n                tableNotes.map((note, index) => {\n                  return (\n                    <Draggable\n                      key={note.noteId}\n                      draggableId={note.noteId}\n                      index={index}\n                    >\n                      {(provided, snapshot) => {\n                        return (\n                          <div\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n                          >\n                            {renderNote(\n                              note,\n                              snapshot.isDragging,\n                              provided.draggableProps.style\n                            )}\n                          </div>\n                        );\n                      }}\n                    </Draggable>\n                  );\n                })}\n\n              <Draggable\n                key={`${tableId}-preview`}\n                draggableId={`${tableId}-preview`}\n                index={9999}\n                isDragDisabled={true}\n              >\n                {(provided, snapshot) => (\n                  <div\n                    ref={provided.innerRef}\n                    {...provided.draggableProps}\n                    {...provided.dragHandleProps}\n                  >\n                    <PreviewNote\n                      tableId={tableId}\n                      tableName={tableName}\n                      notes={tableNotes}\n                      updateTableNotes={updateTableNotes}\n                    />\n                  </div>\n                )}\n              </Draggable>\n\n              {provided.placeholder}\n            </NotesContainer>\n          )}\n        </Droppable>\n      </TableContainer>\n    </>\n  );\n};\n\nexport default Table;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { createTable } from \"../API/tablesAPI\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\n\nconst CreateTable = ({ addTable }) => {\n  const NewTableBtn = styled.div`\n    width: 75px;\n    height: 75px;\n    cursor: pointer;\n    border-radius: 50%;\n    border: 2px solid ${props => props.theme.colors.buttonColor};\n    color: ${props => props.theme.colors.buttonColor};\n    transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;\n    display: inline-block;\n    vertical-align: middle;\n    margin: 20%;\n    & span {\n      font-size: 48px;\n      font-weight: bolder;\n      text-align: center;\n    }\n\n    &:hover {\n      background-color: ${props => props.theme.colors.buttonColor};\n      color: white;\n    }\n  `;\n\n  /**\n   * Click handler. Creates a new Table with default title: \"Table\"\n   * @param {Object} e Event Object\n   */\n  const handleClick = async e => {\n    e.preventDefault();\n    const table = await createTable(\"Table\");\n    addTable(table);\n  };\n\n  return (\n    <NewTableBtn onClick={handleClick}>\n      <span>\n        <FontAwesomeIcon icon={faPlus} />\n      </span>\n    </NewTableBtn>\n  );\n};\n\nexport default CreateTable;\n","/**\n * Gets the notes corrisponding to the table\n * @param {Object} notes Total notes\n * @param {string} table The table ID from which the notes should be extracted\n * @return {Array} A list of extracted notes\n */\nexport const getNotesByTable = (notes, tableId) => {\n  const extractedNotes = notes[tableId];\n  return extractedNotes;\n};\n\n/**\n * Creates notes Object grouped by tableId\n * @param {Array} tables\n * @param {Array} notes\n * @return {Object} Notes grouped by tableId\n */\nexport const getGroupedNotes = (tables, notes) => {\n  if (!notes.length) {\n    return null;\n  }\n  const groupedNotes = {};\n  tables.forEach(table => {\n    groupedNotes[table] = [];\n    notes.forEach(note => {\n      if (note.noteTable === table) {\n        groupedNotes[table].push(note);\n      }\n    });\n  });\n\n  return groupedNotes;\n};\n\n/**\n * Reorder notes based on table.notes\n * @param {Object} notes Notes Object\n * @param {Array} tables Array of tables\n *\n * @return {Object} New ordered notes Object\n */\nexport const reorderNotes = (notes, tables) => {\n  const orderedNotes = {};\n\n  tables.forEach(table => {\n    if (!table.notes) {\n      return;\n    }\n    const tableId = table.tableId;\n    orderedNotes[tableId] = [];\n\n    table.notes.forEach(tableNote => {\n      const noteId = tableNote.noteId;\n      const noteObj = notes[tableId].find(note => {\n        return note.noteId === noteId;\n      });\n      orderedNotes[tableId].push(noteObj);\n    });\n  });\n\n  return orderedNotes;\n};\n","import React, { Component } from \"react\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport styled from \"styled-components\";\nimport Table from \"./Table\";\nimport CreateTable from \"./CreateTable\";\nimport { updateTable } from \"../API/tablesAPI\";\nimport { updateNoteTable } from \"../API/notesAPI\";\nimport { getNotesByTable, reorderNotes } from \"../utils/notesUtils\";\nimport { getTableName } from \"../utils/tablesUtils\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\n\nconst TablesContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n`;\n\nconst CreateContainer = styled.div`\n  display: inline-block;\n  width: 50%;\n  padding: 20px;\n`;\nconst DragDropContainer = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  width: 100%;\n`;\n\nconst reorder = (list, table, startIndex, endIndex) => {\n  const result = Array.from(list[table]);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\n/**\n *\n * @param {Array} source Source notes Array\n * @param {Array} destination Destination notes Array\n * @param {Object} droppableSource React-beautiful-dnd onDragEnd result.source\n * @param {Object} droppableDestination React-beautiful-dnd onDragEnd result.destination\n *\n * @return {Object} Object containing the ordered notes and the note to be updated\n */\nconst move = (source, destination, droppableSource, droppableDestination) => {\n  const sourceClone = Array.from(source);\n  const destinationClone = destination ? Array.from(destination) : [];\n  const [removed] = sourceClone.splice(droppableSource.index, 1);\n  console.log(removed);\n  removed.noteTable = droppableDestination.droppableId;\n\n  destinationClone.splice(droppableDestination.index, 0, removed);\n\n  const result = {};\n  result[droppableSource.droppableId] = sourceClone;\n  result[droppableDestination.droppableId] = destinationClone;\n  result[\"noteToUpdate\"] = removed;\n\n  return result;\n};\n\nclass NotesList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      notes: this.props.notes,\n      tables: this.props.tables,\n      isLoading: false,\n      preview: false\n    };\n  }\n\n  // Reorder notes by index\n  componentDidMount() {\n    const orderedNotes = reorderNotes(this.state.notes, this.state.tables);\n    this.setState({ notes: orderedNotes });\n  }\n\n  /**\n   * Adds a table to the state tables on plus click\n   * @param {Object} table Table Object\n   */\n  addTable = table => {\n    const tables = this.state.tables;\n    tables.push(table);\n    this.setState(tables);\n  };\n\n  /**\n   * Updates table notes array and indexes\n   * @param {string} tableId ID of the table\n   * @param {Array} notes Notes to be updated\n   *\n   * @return {Promise} Promise response\n   */\n  updateNotesIndexes = async (tableId, notes) => {\n    const newNotes = [];\n    const tableName = getTableName(this.state.tables, tableId);\n    notes.forEach((note, index) => {\n      const noteObj = { noteId: note.noteId, noteIndex: index };\n      newNotes.push(noteObj);\n    });\n\n    return await updateTable(tableId, tableName, newNotes);\n  };\n\n  /**\n   * Merge the new note to the previous and update table\n   * @param {Object} note Note Object\n   */\n  updateTableNotes = note => {\n    const notes = this.state.notes;\n    notes[note.noteTable].push(note);\n    this.setState(notes);\n  };\n  /**\n   * Removes a table from state tables\n   * @param {string} tableId ID of the table\n   */\n  removeTable = tableId => {\n    const newTables = this.state.tables.filter(table => {\n      return table.tableId !== tableId;\n    });\n\n    this.setState({ tables: newTables });\n  };\n\n  /**\n   * Function fired on drag end\n   * @param {Object} result Result object\n   */\n  onDragEnd = async result => {\n    const { source, destination } = result;\n    const { notes } = this.state;\n    const sourceTableId = source.droppableId;\n    const destinationTableId = destination.droppableId;\n\n    const destinationNotesLength = notes[destinationTableId]\n      ? notes[destinationTableId].length\n      : 1;\n\n    console.log(source);\n    console.log(destination);\n    //Dropped out of the list or swap with Preview\n    if (\n      !destination ||\n      (destination.index === destinationNotesLength &&\n        sourceTableId === destinationTableId)\n    ) {\n      return;\n    }\n\n    //If the swap occurs on the same table\n    if (\n      sourceTableId === destinationTableId &&\n      source.index !== destination.index\n    ) {\n      const orderedNotes = reorder(\n        this.state.notes,\n        sourceTableId,\n        source.index,\n        destination.index\n      );\n      notes[source.droppableId] = orderedNotes;\n\n      this.setState({ notes });\n\n      await this.updateNotesIndexes(sourceTableId, orderedNotes);\n    } else if (sourceTableId !== destinationTableId) {\n      //If a note is moved from a table to another\n      const orderedNotes = move(\n        getNotesByTable(this.state.notes, sourceTableId),\n        getNotesByTable(this.state.notes, destinationTableId),\n        source,\n        destination\n      );\n      notes[sourceTableId] = orderedNotes[sourceTableId];\n      notes[destinationTableId] = orderedNotes[destinationTableId];\n\n      this.setState({ notes });\n\n      await this.updateNotesIndexes(sourceTableId, notes[sourceTableId]);\n      await this.updateNotesIndexes(\n        destinationTableId,\n        notes[destinationTableId]\n      );\n\n      await updateNoteTable(orderedNotes[\"noteToUpdate\"]);\n    }\n  };\n\n  render() {\n    return !this.props.isLoading ? (\n      <DragDropContainer>\n        {this.state.notes ? (\n          <DragDropContext onDragEnd={this.onDragEnd}>\n            <TablesContainer>\n              {this.state.tables.map(table => (\n                <Table\n                  tableName={table.tableName}\n                  tableId={table.tableId}\n                  notes={getNotesByTable(this.state.notes, table.tableId)}\n                  key={table.tableId}\n                  removeTable={this.removeTable}\n                  updateTableNotes={this.updateTableNotes}\n                />\n              ))}\n              <CreateContainer>\n                <CreateTable addTable={this.addTable} />\n              </CreateContainer>\n            </TablesContainer>\n          </DragDropContext>\n        ) : null}\n      </DragDropContainer>\n    ) : (\n      <FontAwesomeIcon icon={faSpinner} size=\"5x\" spin />\n    );\n  }\n}\n\nexport default NotesList;\n","import React from \"react\";\n\nconst NotesIllustration = props => (\n  <svg\n    data-name=\"Layer 1\"\n    width=\"1em\"\n    height=\"1em\"\n    viewBox=\"0 0 910.74 527.39\"\n    {...props}\n  >\n    <defs>\n      <linearGradient\n        id=\"undraw_notes1_cf55_svg__a\"\n        x1={209.98}\n        y1={290.83}\n        x2={209.98}\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop offset={0} stopColor=\"gray\" stopOpacity={0.25} />\n        <stop offset={0.54} stopColor=\"gray\" stopOpacity={0.12} />\n        <stop offset={1} stopColor=\"gray\" stopOpacity={0.1} />\n      </linearGradient>\n      <linearGradient\n        id=\"undraw_notes1_cf55_svg__b\"\n        x1={356.48}\n        y1={409.11}\n        x2={356.48}\n        y2={118.28}\n        xlinkHref=\"#undraw_notes1_cf55_svg__a\"\n      />\n      <linearGradient\n        id=\"undraw_notes1_cf55_svg__c\"\n        x1={502.98}\n        y1={527.39}\n        x2={502.98}\n        y2={236.57}\n        xlinkHref=\"#undraw_notes1_cf55_svg__a\"\n      />\n      <linearGradient\n        id=\"undraw_notes1_cf55_svg__d\"\n        x1={912.16}\n        y1={688.94}\n        x2={912.16}\n        y2={281.8}\n        xlinkHref=\"#undraw_notes1_cf55_svg__a\"\n      />\n    </defs>\n    <path\n      fill=\"url(#undraw_notes1_cf55_svg__a)\"\n      d=\"M0 0h419.96v290.83H0z\"\n      opacity={0.5}\n    />\n    <path fill=\"#f7f7f7\" d=\"M4.34 4.34H416.7v283.23H4.34z\" />\n    <g opacity={0.5} fill=\"#6c63ff\">\n      <circle cx={71.35} cy={100.38} r={7.6} />\n      <circle cx={71.35} cy={145.96} r={7.6} />\n      <circle cx={71.35} cy={191.53} r={7.6} />\n    </g>\n    <path\n      fill=\"#e0e0e0\"\n      d=\"M127.24 96.04H357.3v8.68H127.24zM127.24 141.61H357.3v8.68H127.24zM127.24 187.19H357.3v8.68H127.24z\"\n    />\n    <path\n      fill=\"url(#undraw_notes1_cf55_svg__b)\"\n      d=\"M146.5 118.28h419.96v290.83H146.5z\"\n      opacity={0.5}\n    />\n    <path fill=\"#f7f7f7\" d=\"M150.84 122.62H563.2v283.23H150.84z\" />\n    <g opacity={0.5} fill=\"#6c63ff\">\n      <circle cx={217.85} cy={218.66} r={7.6} />\n      <circle cx={217.85} cy={264.24} r={7.6} />\n      <circle cx={217.85} cy={309.82} r={7.6} />\n    </g>\n    <path\n      fill=\"#e0e0e0\"\n      d=\"M273.73 214.32h230.06V223H273.73zM273.73 259.9h230.06v8.68H273.73zM273.73 305.47h230.06v8.68H273.73z\"\n    />\n    <path\n      fill=\"url(#undraw_notes1_cf55_svg__c)\"\n      d=\"M293 236.57h419.96V527.4H293z\"\n      opacity={0.5}\n    />\n    <path fill=\"#eee\" d=\"M297.34 240.91H709.7v283.23H297.34z\" />\n    <circle cx={364.35} cy={336.94} r={7.6} fill=\"#6c63ff\" />\n    <circle cx={364.35} cy={382.52} r={7.6} fill=\"#6c63ff\" />\n    <circle cx={364.35} cy={428.1} r={7.6} fill=\"#6c63ff\" />\n    <path\n      fill=\"#dfdfdf\"\n      d=\"M420.23 332.6h230.06v8.68H420.23zM420.23 378.18h230.06v8.68H420.23zM420.23 423.76h230.06v8.68H420.23z\"\n    />\n    <path\n      d=\"M1046.74 419c-3-.19-6.09-2.26-6.39-5.24-.36-3.56 3-6.17 5.13-9.08 3.72-5.18 3.27-12.63-.09-18s-9.18-9-15.29-10.8c-5.07-1.51-11-2.35-14-6.77-4.74-7.18 2.59-16.19 3.22-24.77.6-8.17-6.16-16.18-14.32-17-4.72-.45-10.26 1-13.68-2.3a9.28 9.28 0 01-2.1-3.4c-2.2-5.71-1.17-12.07-.89-18.18s-.56-13-5.27-16.89c-2.72-2.27-6.32-3.16-9.81-3.73-10.59-1.73-21.44-1.14-32.06.42-14.79 2.17-30.21 6.77-40 18.06s-11.07 30.89.75 40c-1-.8-.56-2.57.87-4.69v.59a30 30 0 0019.69 28.2v2.11a20.58 20.58 0 00-6.08 2.57c-20.14 4.97-60.42 29.79-60.42 29.79l-59.15 10s-29 4.46-27.9 8.93 27.9 1.12 27.9 1.12h59.81a32.26 32.26 0 0015.52-4l32.7-18c-.16 2.6-.24 5.28-.26 8-5.17 3.7-10.23 11.78.4 28.42l.08-.46v.46l-11.89 54.82c-3.62 2.68-6.1 5.15-5.24 6.47.5.76 1.84.9 3.67.65l-16.46 76L921.3 628l7.7 44.1-7.25 6.95-26.9 5a2.44 2.44 0 00.45 4.84h58.94v-11.11h.54l-1-13.34 18.63-12.18-6.11-9.34-.87.57-14.88-20.79-2.55-32.76 27.2-98.54v-.11l-6.68-27.49 11.71-5.94A17.17 17.17 0 00988.7 437c-1.79-5.19-4-11.31-6.58-17.53a50 50 0 0013.24 9.47c19.38 9.11 42.62.43 60-12.07-2.75 1.13-5.63 2.33-8.62 2.13zm-83.48 23.13l-4.15-17.06 5.64 14.42c-.75 1.31-1.31 2.29-1.5 2.65zm-23.16-74.44v-1.28a29.9 29.9 0 0010.68-5 42.77 42.77 0 001.29 13.36c-2.63-3.41-6.43-5.77-11.98-7.06zm-31.32 196.58l23.84-68.93L918 577.17z\"\n      transform=\"translate(-144.63 -186.3)\"\n      fill=\"url(#undraw_notes1_cf55_svg__d)\"\n      opacity={0.5}\n    />\n    <path\n      d=\"M820.15 452.27l-20.89 13.66-24.08 23.09a2.37 2.37 0 00-.34 3 2.37 2.37 0 003.28.69l48-31.36z\"\n      fill=\"#333\"\n    />\n    <path\n      d=\"M776.98 205.1l-48.29 26.51a31.36 31.36 0 01-15.09 3.87h-58.16v-9.78l57.51-9.77s65.12-40.13 69.42-27.11-5.39 16.28-5.39 16.28z\"\n      fill=\"#6c63ff\"\n    />\n    <path\n      d=\"M828.85 304.94H748.7l12-55.34c0-30.12-6-65.89 24.13-65.89 30.12 0 26.87 20.58 26.87 50.69z\"\n      fill=\"#6c63ff\"\n    />\n    <path\n      d=\"M777.61 162.68h17.08v23.67a7.87 7.87 0 01-7.87 7.87h-1.34a7.87 7.87 0 01-7.87-7.87v-23.67z\"\n      fill=\"#fda57d\"\n    />\n    <path\n      fill=\"#e0e0e0\"\n      d=\"M748.7 304.82l-17.08 78.84 69.64 84.1 18.39-14.45-55.41-77.53 24.54-70.96H748.7z\"\n    />\n    <path\n      opacity={0.04}\n      d=\"M748.7 304.82l-17.08 78.84 69.64 84.1 18.39-14.45-55.41-77.53 24.54-70.96H748.7z\"\n    />\n    <path\n      fill=\"#e0e0e0\"\n      d=\"M788.12 304.82l-17.65 98.86 14.39 82.47h24.11l-6.57-85.4 26.45-95.93h-40.73z\"\n    />\n    <path\n      d=\"M817.13 257.19l-53.17 38 4.34 7.6 62.16-31.53a16.69 16.69 0 008.24-20.32c-7.41-21.5-21.57 6.25-21.57 6.25z\"\n      opacity={0.05}\n    />\n    <path\n      d=\"M802.83 213.42l17.54 44.85-54.24 31.43 5.43 14.11 62.16-31.53a16.69 16.69 0 008.24-20.32c-7.41-21.47-22.72-59.41-35.71-50.49a10 10 0 00-3.42 11.95z\"\n      opacity={0.05}\n    />\n    <path\n      d=\"M801.75 211.25l17.55 44.86-53.17 35.81 3.24 9.78 63.24-31.53a16.69 16.69 0 008.24-20.32c-7.41-21.47-22.72-59.41-35.71-50.49a10 10 0 00-3.39 11.89z\"\n      fill=\"#6c63ff\"\n    />\n    <path\n      d=\"M808.45 486.16h-25l-32.79 6.15a2.37 2.37 0 00-1.93 2.33 2.37 2.37 0 002.37 2.37h57.31z\"\n      fill=\"#333\"\n    />\n    <path\n      d=\"M804.11 213.78s13 17.36 10.85 30.38M777.61 184.7a29.29 29.29 0 0017.08.92v-20.77h-17.08z\"\n      opacity={0.05}\n    />\n    <circle cx={787.66} cy={155.08} r={29.2} fill=\"#fda57d\" />\n    <path\n      d=\"M655.44 225.7s-28.21 4.34-27.13 8.68 27.13 1.09 27.13 1.09zM766.85 292.12s-25.25 13.32-22.8 17.07 26-7.84 26-7.84z\"\n      fill=\"#fda57d\"\n    />\n    <path d=\"M766.13 219.21s-21.87 4.78-5.51 30.38\" fill=\"#6c63ff\" />\n    <path d=\"M792.17 221.38s-21.87 4.78-5.51 30.38\" opacity={0.05} />\n    <path d=\"M793.26 221.38s-21.87 4.78-5.51 30.38\" fill=\"#6c63ff\" />\n    <path\n      d=\"M809.37 164.45c-5.77 9.35-5.42 21.49-1.6 31.79s10.73 19.12 17.73 27.59c6.56 7.94 13.59 15.95 22.91 20.33 18.85 8.86 41.44.42 58.35-11.73-2.68 1.14-5.49 2.31-8.39 2.12s-5.92-2.2-6.22-5.09c-.35-3.46 3-6 5-8.83 3.62-5 3.18-12.28-.08-17.55s-8.92-8.72-14.87-10.5c-4.93-1.47-10.73-2.29-13.57-6.58-4.6-7 2.52-15.74 3.13-24.08.59-7.94-6-15.73-13.92-16.49-4.59-.44-10 1-13.3-2.24a9 9 0 01-2-3.31c-2.14-5.55-1.14-11.74-.87-17.68s-.55-12.62-5.12-16.42c-2.65-2.2-6.14-3.07-9.54-3.62-10.3-1.68-20.85-1.11-31.17.41-14.39 2.11-29.37 6.58-38.9 17.56s-10.77 30 .73 38.94c-4.07-3.15 15.77-21.7 25.09-16 10.61 6.44 10.83 22 26.61 21.38z\"\n      fill=\"#333\"\n    />\n  </svg>\n);\n\nexport default NotesIllustration;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport NotesIllustration from \"../Icons/NotesIllustration\";\n\nconst LandingPage = () => {\n  const Container = styled.div`\n    min-height: 100%;\n    position: relative;\n  `;\n\n  const Illustration = styled.h1`\n    font-size: 800px;\n    position: absolute;\n    @media screen and (max-width: 1310px) {\n      & {\n        font-size: 600px;\n      }\n    }\n  `;\n\n  const Title = styled.h1`\n    margin-top: 50px;\n    font-size: 60px;\n    z-index: 9999;\n    color: ${props => props.theme.colors.primaryText};\n    position: absolute;\n  `;\n\n  /**\n   * Gets styling for NotesIllustration\n   *\n   * @return {Object} Styles Object\n   */\n  const getIllustrationStyle = () => ({\n    position: \"absolute\",\n    left: \"200px\",\n    top: \"150px\"\n  });\n\n  return (\n    <Container>\n      <Title>Notes. Made. Easy.</Title>\n      <Illustration>\n        <NotesIllustration style={getIllustrationStyle()} />\n      </Illustration>\n    </Container>\n  );\n};\n\nexport default LandingPage;\n","import React, { Component } from \"react\";\nimport { listTables } from \"../API/tablesAPI\";\nimport { getNotes } from \"../API/notesAPI\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport NotesList from \"./NotesList\";\nimport styled from \"styled-components\";\nimport { getTableIds } from \"../utils/tablesUtils\";\nimport { getGroupedNotes } from \"../utils/notesUtils\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport LandingPage from \"./LandingPage\";\n\nconst HomeContainer = styled.div`\n  height: 100%;\n`;\n\nconst Title = styled.h1`\n  color: ${props => props.theme.colors.primaryText};\n  margin: 0px;\n  line-height: 70px;\n`;\n\nconst CreateNote = styled.div`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  border: 2px solid ${props => props.theme.colors.buttonColor};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: background-color 0.3s;\n  cursor: pointer;\n\n  & > span {\n    font-size: 32px;\n    color: ${props => props.theme.colors.secondaryText};\n    transition: color 0.3s;\n  }\n  &:hover {\n    background-color: ${props => props.theme.colors.buttonColor};\n  }\n  & > span:hover {\n    color: white;\n  }\n`;\n\nconst CreateTable = styled.div`\n  width: 140px;\n  height: 40px;\n  border-radius: 10px;\n  border: 2px solid ${props => props.theme.colors.buttonColor};\n  color: ${props => props.theme.colors.secondaryText};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 30px;\n  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;\n  margin-left: auto;\n  cursor: pointer;\n  &:hover {\n    background-color: ${props => props.theme.colors.buttonColor};\n    color: white;\n  }\n  & h5 {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n  }\n`;\n\nconst NotesHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 25px 16px;\n`;\n\nconst NoteContainer = styled.div`\n  width: 100%;\n`;\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      notes: {},\n      tables: []\n    };\n  }\n\n  async componentDidMount() {\n    if (!this.props.isAuthenticated) {\n      return;\n    }\n    try {\n      //Get notes, tables and tableIDs\n      const rawNotes = await getNotes();\n      const tables = await listTables();\n      const tableIds = getTableIds(tables);\n      //Group notes by table\n      const notes = getGroupedNotes(tableIds, rawNotes);\n      //Set state with grouped notes and total tables\n      this.setState({ notes, tables });\n    } catch (e) {\n      alert(e);\n    }\n    this.setState({ isLoading: false });\n  }\n\n  /**\n   * Renders NotesList Component. Called inside renderNotes()\n   * @param {Object} notes Total notes\n   * @param {Object} tables Total tables\n   */\n  renderNotesList(notes, tables) {\n    return (\n      <NotesList\n        notes={notes}\n        tables={tables}\n        isLoading={this.state.isLoading}\n      />\n    );\n  }\n\n  //Renders NotesList component and NewNote component\n  renderNotes() {\n    return (\n      <>\n        <NotesHeader>\n          <Title>Notes</Title>\n\n          {/*Create Table Button*/}\n          <LinkContainer\n            to={{\n              pathname: \"/tables/new\",\n              props: {\n                tables: this.state.tables\n              }\n            }}\n          >\n            <CreateTable>\n              <h5>Create Table</h5>\n            </CreateTable>\n          </LinkContainer>\n\n          {/*Create Note Button*/}\n          <LinkContainer\n            to={{\n              pathname: \"/notes/new\",\n              props: {\n                tables: this.state.tables\n              }\n            }}\n          >\n            <CreateNote>\n              <span>{\"\\uFF0B\"}</span>\n            </CreateNote>\n          </LinkContainer>\n        </NotesHeader>\n\n        {/*Notes List*/}\n        <NoteContainer>\n          {!this.state.isLoading ? (\n            this.renderNotesList(this.state.notes, this.state.tables)\n          ) : (\n            <FontAwesomeIcon icon={faSpinner} size=\"5x\" spin />\n          )}\n        </NoteContainer>\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <HomeContainer>\n        {this.props.isAuthenticated ? this.renderNotes() : <LandingPage />}\n      </HomeContainer>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./NotFound.css\";\n\nexport default () => (\n  <div className=\"NotFound\">\n    <h3>Oops: couldn't find the page.</h3>\n  </div>\n);\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSync } from \"@fortawesome/free-solid-svg-icons\";\nimport styled from \"styled-components\";\n\nexport default ({\n  isLoading,\n  text,\n  loadingText,\n  disabled = false,\n  colorType,\n  ...props\n}) => {\n  const colorBtn = colorType\n    ? colorType\n    : props => props.theme.colors.buttonColor;\n\n  const Button = styled.button`\n    width: 240px;\n    height: 50px;\n\n    justify-content: center;\n    margin: 50px auto;\n    border: 2px solid ${colorBtn};\n    background-color: transparent;\n    border-radius: 10px;\n    transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;\n    color: ${props => props.theme.colors.secondaryText};\n\n    &:disabled {\n      border-color: ${props => props.theme.colors.disabledColor};\n      color: ${props => props.theme.colors.disabledColor};\n    }\n\n    &:hover:enabled {\n      background-color: ${colorBtn};\n      color: white;\n    }\n    &:enabled {\n      border-color: ${colorBtn};\n      color: ${props => props.theme.colors.secondaryText};\n    }\n    & div {\n      font-size: 18px;\n      font-weight: bold;\n      text-transform: uppercase;\n      letter-spacing: 1px;\n    }\n  `;\n\n  return (\n    <Button disabled={disabled || isLoading} {...props}>\n      <div>\n        {isLoading && (\n          <FontAwesomeIcon\n            icon={faSync}\n            size=\"sm\"\n            spin\n            style={{ margin: \"0 10px\" }}\n          />\n        )}\n        {isLoading ? loadingText : text}\n      </div>\n    </Button>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const AuthContainer = styled.div`\n  padding: 60px 0;\n  & form {\n    margin: 0 auto;\n    max-width: 320px;\n  }\n`;\n\nexport const Label = styled.span`\n  color: ${props => props.theme.colors.secondaryText};\n  display: block;\n  text-align: left;\n  margin-left: 3px;\n`;\n","import React, { Component } from \"react\";\nimport { FormGroup, FormControl } from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { Auth } from \"aws-amplify\";\nimport { Redirect } from \"react-router-dom\";\nimport { AuthContainer, Label } from \"../components/StyledAuthentication\";\nimport * as COSTANTS from \"../config\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: false,\n      email: \"\",\n      password: \"\",\n      errDescription: \"\"\n    };\n  }\n\n  /**\n   * Form validator. Returns true if email is > 0 and password > 8\n   *\n   * @return {Boolean}\n   */\n  validateForm = () => {\n    return (\n      this.state.email.length > 0 &&\n      this.state.password.length >= COSTANTS.MIN_PASSWORD_LENGTH\n    );\n  };\n\n  /**\n   * Handler for inputs. Sets the corrisponding id state to value\n   * @param {Object} e Event Object\n   */\n  handleChange = e => {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  };\n\n  /**\n   * Submit handler. Signs in user with email and password\n   * @param {Object} e Event Object\n   */\n  handleSubmit = async e => {\n    e.preventDefault();\n\n    this.setState({ isLoading: true });\n    try {\n      await Auth.signIn(this.state.email, this.state.password);\n      this.props.userHasAuthenticated(true);\n    } catch (e) {\n      alert(e);\n      this.setState({\n        isLoading: false,\n        errDescription: e.message\n      });\n    }\n  };\n\n  render() {\n    return (\n      <AuthContainer>\n        {this.state.errDescription ? (\n          <Redirect\n            to={{\n              pathname: \"/err\",\n              state: {\n                errDescription: this.state.errDescription\n              }\n            }}\n          />\n        ) : (\n          <form onSubmit={this.handleSubmit}>\n            <FormGroup controlId=\"email\">\n              <Label>Email</Label>\n              <FormControl\n                type=\"email\"\n                key=\"email\"\n                placeholder=\"Enter email\"\n                value={this.state.email}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n            <FormGroup controlId=\"password\">\n              <Label>Password</Label>\n              <FormControl\n                type=\"password\"\n                key=\"password\"\n                placeholder=\"Enter password\"\n                value={this.state.password}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n            <LoaderButton\n              block\n              disabled={!this.validateForm()}\n              type=\"submit\"\n              isLoading={this.state.isLoading}\n              text=\"Login\"\n              loadingText=\"Logging in...\"\n            />\n          </form>\n        )}\n      </AuthContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { FormText, FormGroup, FormControl, Alert } from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { AuthContainer, Label } from \"../components/StyledAuthentication\";\nimport { Auth } from \"aws-amplify\";\nimport { postInitialTable } from \"../API/tablesAPI\";\nimport * as COSTANTS from \"../config\";\n\nexport default class SignUp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.timeout = null;\n\n    this.state = {\n      isLoading: false,\n      email: \"\",\n      password: \"\",\n      isValidPassword: true,\n      isValidConfirmPassword: true,\n      confirmPassword: \"\",\n      confirmationCode: \"\",\n      newUser: null\n    };\n  }\n\n  validatePassword = id => {\n    const regex = new RegExp(\n      \"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$\"\n    );\n    let password = this.state.password;\n    let confirmPassword = this.state.confirmPassword;\n\n    window.clearTimeout(this.timeout);\n    this.setState({\n      isValidPassword: true,\n      isValidConfirmPassword: true\n    });\n\n    id === \"password\"\n      ? (this.timeout = window.setTimeout(() => {\n          if (!password.match(regex) && password) {\n            this.setState({ isValidPassword: false });\n          }\n        }, 1500))\n      : (this.timeout = window.setTimeout(() => {\n          if (password !== confirmPassword) {\n            this.setState({ isValidConfirmPassword: false });\n          }\n        }, 1500));\n  };\n\n  validateForm() {\n    return (\n      this.state.email.length > 0 &&\n      this.state.password.length >= COSTANTS.MIN_PASSWORD_LENGTH &&\n      this.state.password === this.state.confirmPassword\n    );\n  }\n\n  validateConfirmationForm() {\n    return this.state.confirmationCode.length > 0;\n  }\n\n  /**\n   * Handler for inputs. Sets the corrisponding id state to value\n   * @param {Object} e Event Object\n   */\n  handleChange = e => {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  };\n\n  handlePasswordChange = e => {\n    e.preventDefault();\n    let id = e.target.id;\n    this.setState(\n      {\n        [e.target.id]: e.target.value\n      },\n      () => this.validatePassword(id)\n    );\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault();\n    this.setState({ isLoading: true });\n    try {\n      const newUser = await Auth.signUp({\n        username: this.state.email,\n        password: this.state.password\n      });\n      this.setState({ newUser });\n    } catch (e) {\n      if (e.name === \"UsernameExistsException\") {\n        try {\n          const newUser = await Auth.resendSignUp(this.state.email);\n          this.setState({ newUser });\n        } catch (e) {\n          alert(e.message);\n        }\n      }\n    }\n    this.setState({ isLoading: false });\n  };\n\n  handleConfirmationSubmit = async e => {\n    e.preventDefault();\n    this.setState({ isLoading: true });\n\n    try {\n      await Auth.confirmSignUp(this.state.email, this.state.confirmationCode);\n      await Auth.signIn(this.state.email, this.state.password);\n      await postInitialTable();\n\n      this.props.userHasAuthenticated(true);\n      this.props.history.push(\"/\");\n    } catch (e) {\n      alert(e.message);\n      this.setState({ isLoading: false });\n    }\n  };\n\n  renderConfirmationForm() {\n    return (\n      <AuthContainer>\n        <form onSubmit={this.handleConfirmationSubmit}>\n          <FormGroup controlId=\"confirmationCode\">\n            <Label>Confirmation code:</Label>\n            <FormControl\n              autoFocus\n              type=\"tel\"\n              value={this.state.confirmationCode}\n              onChange={this.handleChange}\n            />\n            <FormText className=\"text-muted\">\n              Please check your email and paste the received code\n            </FormText>\n          </FormGroup>\n          <LoaderButton\n            block\n            text=\"Verify\"\n            disabled={!this.validateConfirmationForm()}\n            type=\"submit\"\n            isLoading={this.state.isLoading}\n            loadingText=\"Verifying...\"\n          />\n        </form>\n      </AuthContainer>\n    );\n  }\n\n  renderForm() {\n    return (\n      <AuthContainer>\n        <form onSubmit={this.handleSubmit}>\n          <FormGroup controlId=\"email\">\n            <Label>Email</Label>\n            <FormControl\n              autoFocus\n              type=\"email\"\n              key=\"email\"\n              value={this.state.email}\n              onChange={this.handleChange}\n            />\n          </FormGroup>\n          <FormGroup controlId=\"password\">\n            <Label>Password:</Label>\n            <FormControl\n              type=\"password\"\n              key=\"password\"\n              value={this.state.password}\n              onChange={this.handlePasswordChange}\n            />\n            {!this.state.isValidPassword ? (\n              <Alert variant=\"warning\" style={{ margin: \"20px 0\" }}>\n                Password should contain 8 characters, at least one uppercase\n                letter, one lowercase letter, one number and one special\n                character\n              </Alert>\n            ) : null}\n          </FormGroup>\n          <FormGroup controlId=\"confirmPassword\">\n            <Label>Confirm password:</Label>\n            <FormControl\n              type=\"password\"\n              key=\"confirmPassword\"\n              value={this.state.confirmPassword}\n              onChange={this.handlePasswordChange}\n            />\n            {!this.state.isValidConfirmPassword ? (\n              <Alert variant=\"warning\">Passwords should match</Alert>\n            ) : null}\n          </FormGroup>\n          <LoaderButton\n            block\n            type=\"submit\"\n            disabled={!this.validateForm()}\n            isLoading={this.state.isLoading}\n            text=\"Signup\"\n            loadingText=\"Signing up...\"\n          />\n        </form>\n      </AuthContainer>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.newUser === null\n          ? this.renderForm()\n          : this.renderConfirmationForm()}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\n\nexport default ({ component: C, props: cProps, ...rest }) => (\n  <Route {...rest} render={props => <C {...props} {...cProps} />} />\n);\n","import { Storage } from \"aws-amplify\";\n\nexport async function s3Upload(file) {\n  const fileName = `${Date.now()}-${file.name}`;\n  const stored = await Storage.vault.put(fileName, file, {\n    contentType: file.type\n  });\n\n  return stored.key;\n}\n","import styled from \"styled-components\";\n\nexport const Group = styled.div`\n  width: 100%;\n  padding: 0 20px;\n  margin: 20px 0;\n`;\n\nexport const Label = styled.h3`\n  text-align: left;\n  margin-bottom: 20px;\n  color: ${props => props.theme.colors.secondaryText};\n`;\n\nexport const InputText = styled.textarea`\n  resize: vertical;\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 50px;\n  border-radius: 10px;\n  min-height: 100px;\n  border: none;\n  outline: none;\n  box-shadow: none;\n`;\n\nexport const InputFile = styled.input`\n  width: 0.1px;\n  height: 0.1px;\n  opacity: 0;\n  overflow: hidden;\n  position: absolute;\n  z-index: -1;\n`;\n\nexport const LabelFile = styled.label`\n  font-size: 1.25em;\n  display: block;\n  width: 140px;\n  font-weight: 700;\n  color: white;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  border: 2px solid ${props => props.theme.colors.buttonColor};\n  color: ${props => props.theme.colors.secondaryText};\n  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;\n  &:focus,\n  &:hover {\n    background-color: ${props => props.theme.colors.buttonColor};\n    color: white;\n  }\n`;\n\nexport const FileText = styled.p`\n  font-size: 16px;\n  text-align: left;\n`;\n","import React, { Component } from \"react\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport config from \"../config\";\nimport { s3Upload } from \"../libs/awsLib\";\nimport { updateTable, listTables } from \"../API/tablesAPI\";\nimport { getTableName, getTableNoteObj } from \"../utils/tablesUtils\";\nimport styled from \"styled-components\";\nimport { createNote } from \"../API/notesAPI\";\nimport {\n  Group,\n  Label,\n  InputText,\n  InputFile,\n  LabelFile,\n  FileText\n} from \"../components/StyledNote\";\n\nconst Select = styled.select`\n  float: left;\n  width: 100px;\n  height: 40px;\n  outline: none;\n  border-radius: 10px;\n  color: ${props => props.theme.colors.primaryText};\n`;\n\nexport default class NewNote extends Component {\n  constructor(props) {\n    super(props);\n\n    this.file = null;\n\n    this.state = {\n      isLoading: false,\n      content: \"\",\n      noteTable: \"\",\n      tables: [],\n      fileName: \"\"\n    };\n  }\n\n  async componentDidMount() {\n    //Get total tables\n    const tables = await listTables();\n\n    //Redirect if there are no tables\n    if (!tables.length) {\n      window.alert(\"You must have at least a table before creating a note\");\n      this.props.history.push(\"/\");\n      return;\n    }\n\n    //Get first tableId\n    const noteTable = tables[0].tableId;\n    this.setState({ tables, noteTable });\n  }\n\n  /**\n   * Form validation. Returns true if content > 0\n   *\n   * @return {Boolean} Boolean value\n   */\n  validateForm() {\n    return this.state.content.length > 0;\n  }\n\n  /**\n   * Handler for inputs. Sets the corrisponding id state to value\n   * @param {Object} e Event Object\n   */\n  handleChange = e => {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  };\n\n  /**\n   * Handler for file change. Sets file and fileName\n   * @param {Object} e Event object\n   */\n  handleFileChange = e => {\n    this.file = e.target.files[0];\n    const fileName = e.target.files[0].name;\n\n    this.setState({ fileName });\n  };\n\n  /**\n   * Subit form handler. Creates a note and adds it to table\n   * @param {Object} e Event Object\n   */\n  handleSubmit = async e => {\n    e.preventDefault();\n    this.setState({ isLoading: true });\n    if (this.file && this.file.size > config.MAX_ATTACHMENT_SIZE) {\n      alert(\n        `Please pick a file smaller than ${config.MAX_ATTACHMENT_SIZE /\n          1000000} MB.`\n      );\n      return;\n    }\n\n    try {\n      const attachment = this.file ? await s3Upload(this.file) : null;\n      const uuid = require(\"uuid/v1\");\n      const noteId = uuid();\n\n      await createNote({\n        noteId: noteId,\n        attachment,\n        content: this.state.content,\n        noteTable: this.state.noteTable\n      });\n\n      await this.addNoteToTable(noteId);\n\n      this.props.history.push(\"/\");\n    } catch (e) {\n      console.log(e);\n      this.setState({ isLoading: false });\n    }\n  };\n\n  /**\n   * Adds a note to the corrisponding table\n   * @param {string} noteId ID of the note\n   */\n  addNoteToTable = async noteId => {\n    // Table matching noteTable\n    const tableObj = this.state.tables.find(table => {\n      return table.tableId === this.state.noteTable;\n    });\n    // Create notes obj for table and tableName\n    const notes = tableObj.notes || [];\n    const idx = notes.length;\n    const newNote = getTableNoteObj(noteId, idx);\n    const tableName = getTableName(this.state.tables, this.state.noteTable);\n    notes.push(newNote);\n    // PUT new notes to the corrisponding table\n    return await updateTable(this.state.noteTable, tableName, notes);\n  };\n\n  // Render <option> for tables\n  renderTablesOptions() {\n    return this.state.tables.map(table => {\n      return (\n        <option value={table.tableId} key={table.tableId}>\n          {table.tableName}\n        </option>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <Group id=\"content\">\n            <Label>Note content</Label>\n            <InputText\n              id=\"content\"\n              autoFocus\n              autoComplete=\"off\"\n              value={this.state.content}\n              onChange={this.handleChange}\n            />\n          </Group>\n          <Group id=\"file\">\n            <Label>Attachment:</Label>\n            <InputFile\n              type=\"file\"\n              name=\"file-select\"\n              id=\"file-select\"\n              onChange={this.handleFileChange}\n            />\n            <LabelFile htmlFor=\"file-select\">Choose a file</LabelFile>\n            {this.state.fileName && (\n              <FileText> {this.state.fileName} </FileText>\n            )}\n          </Group>\n          <Group id=\"noteTable\">\n            <Label>Table:</Label>\n            <Select id=\"noteTable\" onChange={this.handleChange}>\n              {this.renderTablesOptions()}\n            </Select>\n          </Group>\n          <Group>\n            <LoaderButton\n              block\n              type=\"submit\"\n              text=\"Create note\"\n              disabled={!this.validateForm()}\n              loadingText=\"Creating note...\"\n              isLoading={this.state.isLoading}\n            />\n          </Group>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { useState } from \"react\";\nimport { FormGroup, FormControl } from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { createTable } from \"../API/tablesAPI\";\nimport styled from \"styled-components\";\n\nconst NewTable = ({ history }) => {\n  const Label = styled.span`\n    color: ${props => props.theme.colors.secondaryText};\n    float: left;\n    padding: 16px;\n  `;\n  const [tableName, setTableName] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  /**\n   * Form validation\n   *\n   * @return {Boolean} Boolean value\n   */\n  const validateForm = () => {\n    return tableName.length > 0;\n  };\n\n  /**\n   * Handler for table name. Sets state with the name\n   * @param {Object} e Event Object\n   */\n  const handleChange = e => {\n    setTableName(e.target.value);\n  };\n\n  /**\n   * Handler for submit form. Creates a table.\n   * @param {Object} e Event Object\n   */\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      await createTable(tableName);\n      history.push(\"/\");\n    } catch (e) {\n      setIsLoading(false);\n      alert(e);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Label>Choose a table name</Label>\n      <FormGroup>\n        <FormControl\n          autoFocus\n          type=\"textarea\"\n          onChange={handleChange}\n          autoComplete=\"off\"\n          value={tableName}\n        />\n      </FormGroup>\n      <LoaderButton\n        block\n        type=\"submit\"\n        text=\"Create table\"\n        disabled={!validateForm()}\n        loadingText=\"Creating table...\"\n        isLoading={isLoading}\n      >\n        Submit\n      </LoaderButton>\n    </form>\n  );\n};\n\nexport default NewTable;\n","import React, { Component } from \"react\";\nimport { Storage } from \"aws-amplify\";\nimport config from \"../config\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { s3Upload } from \"../libs/awsLib\";\nimport { getTable, updateTable } from \"../API/tablesAPI\";\nimport { deleteNote, saveNote, getNote } from \"../API/notesAPI\";\nimport styled from \"styled-components\";\nimport {\n  Group,\n  Label,\n  InputText,\n  InputFile,\n  LabelFile,\n  FileText\n} from \"../components/StyledNote\";\n\nconst ButtonsContainer = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nexport default class Notes extends Component {\n  constructor(props) {\n    super(props);\n\n    this.file = null;\n\n    this.state = {\n      isLoading: false,\n      isDeleting: false,\n      note: null,\n      content: \"\",\n      attachmentURL: null,\n      noteIndex: null,\n      noteTable: null,\n      fileName: \"\"\n    };\n  }\n\n  // Destructuring note Object and setting state\n  async componentDidMount() {\n    try {\n      let attachmentURL = null;\n      const note = await getNote(this.props.match.params.id);\n\n      const { content, attachment, noteIndex, noteTable } = note;\n\n      if (attachment) {\n        attachmentURL = await Storage.vault.get(attachment);\n      }\n\n      this.setState({\n        note,\n        content,\n        attachmentURL,\n        noteIndex,\n        noteTable\n      });\n    } catch (e) {\n      alert(e);\n    }\n  }\n\n  /**\n   * Removes attachment from s3\n   * @param {string} attachment Attachment to remove\n   */\n  async removeAttachment(attachment) {\n    return Storage.vault.remove(attachment);\n  }\n\n  // Removes note from table and updates it. Called on handleDelete\n  async removeNoteFromTable() {\n    const noteId = this.state.note.noteId;\n    const tableId = this.state.note.noteTable;\n    const table = await getTable(tableId);\n    const tableName = table.tableName;\n    const newTableNotes = table.notes.filter(note => {\n      return note.noteId !== noteId;\n    });\n\n    return await updateTable(tableId, tableName, newTableNotes);\n  }\n\n  // Form validation\n  validateForm() {\n    return this.state.content.length > 0;\n  }\n\n  // RegEx to format file name\n  formatFileName(str) {\n    return str.replace(/^w+-/, \"\");\n  }\n\n  /**\n   * Handler for inputs. Sets the corrisponding id state to value\n   * @param {Object} e Event Object\n   */\n  handleChange = e => {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  };\n\n  /**\n   * Handler for file change. Sets file and fileName\n   * @param {Object} e Event Object\n   */\n  handleFileChange = e => {\n    this.file = e.target.files[0];\n    const fileName = e.target.files[0].name;\n    this.setState({ fileName });\n  };\n\n  /**\n   * Submit form handler. Saves the note and updates attachment if a new one is provided\n   * @param {Object} e Event Object\n   */\n  handleSubmit = async e => {\n    e.preventDefault();\n    let attachment;\n\n    if (this.file && this.file.size > config.MAX_ATTACHMENT_SIZE) {\n      alert(\n        `Please pick a file smaller than \n        ${config.MAX_ATTACHMENT_SIZE / 1000000} MB.`\n      );\n    }\n\n    this.setState({ isLoading: true });\n\n    try {\n      if (this.file) {\n        attachment = await s3Upload(this.file);\n        const { attachment: oldAttachment } = this.state.note;\n        await this.removeAttachment(oldAttachment);\n      }\n\n      const body = {\n        content: this.state.content,\n        attachment: attachment || this.state.note.attachment,\n        noteTable: this.state.noteTable\n      };\n\n      await saveNote(body, this.props.match.params.id);\n\n      this.props.history.push(\"/\");\n    } catch (e) {\n      alert(e);\n      this.setState({ isLoading: false });\n    }\n  };\n\n  /**\n   * Handler for delete button. Removes attachment if present, note and note from table\n   * @param {Object} e Event Object\n   */\n  handleDelete = async e => {\n    e.preventDefault();\n\n    const confirmed = window.confirm(\n      \"Are you sure you want to delete this note?\"\n    );\n\n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      if (this.state.note.attachment) {\n        await this.removeAttachment(this.state.note.attachment);\n      }\n      await this.removeNoteFromTable();\n      await deleteNote(this.props.match.params.id);\n      this.props.history.push(\"/\");\n    } catch (e) {\n      alert(e);\n      this.setState({ isDeleting: false });\n    }\n\n    this.setState({ isDeleting: true });\n  };\n\n  render() {\n    return (\n      <div className=\"Notes\">\n        {this.state.note && (\n          <form onSubmit={this.handleSubmit}>\n            <Group id=\"content\">\n              <Label>Edit note</Label>\n              <InputText\n                id=\"content\"\n                value={this.state.content}\n                onChange={this.handleChange}\n              />\n            </Group>\n\n            {this.state.note.attachment && (\n              <Group>\n                <Label>Attachment:</Label>\n                <div style={{ textAlign: \"left\" }}>\n                  <a\n                    href={this.state.attachmentURL}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {this.formatFileName(this.state.note.attachment)}\n                  </a>\n                </div>\n              </Group>\n            )}\n\n            <Group id=\"file\">\n              {!this.state.note.attachment && <Label>Attachment:</Label>}\n              <InputFile\n                type=\"file\"\n                name=\"file-select\"\n                id=\"file-select\"\n                onChange={this.handleFileChange}\n              />\n              <LabelFile htmlFor=\"file-select\">Choose a file</LabelFile>\n              {this.state.fileName && (\n                <FileText>{this.state.fileName}</FileText>\n              )}\n            </Group>\n\n            <ButtonsContainer>\n              <LoaderButton\n                block\n                text=\"Save\"\n                loadingText=\"Saving...\"\n                type=\"submit\"\n                colorType=\"#20d420\"\n                isLoading={this.state.isLoading}\n                disabled={!this.validateForm()}\n              />\n              <LoaderButton\n                block\n                text=\"Delete\"\n                loadingText=\"Deleting...\"\n                colorType=\"red\"\n                isLoading={this.state.isDeleting}\n                onClick={this.handleDelete}\n              />\n            </ButtonsContainer>\n          </form>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default ({ component: C, props: cProps, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      cProps.isAuthenticated ? (\n        <C {...props} {...cProps} />\n      ) : (\n        <Redirect\n          to={`/login?redirect=${props.location.pathname}\n              ${props.location.search}`}\n        />\n      )\n    }\n  />\n);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction querystring(name, url = window.location.href) {\n  name = name.replace(/[[]]/g, \"\\\\$&\");\n\n  const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\", \"i\");\n  const results = regex.exec(url);\n\n  if (!results) {\n    return null;\n  }\n  if (!results[2]) {\n    return \"\";\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\nexport default ({ component: C, props: cProps, ...rest }) => {\n  const redirect = querystring(\"redirect\");\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        !cProps.isAuthenticated ? (\n          <C {...props} {...cProps} />\n        ) : (\n          <Redirect\n            to={redirect === \"\" || redirect === null ? \"/\" : redirect}\n          />\n        )\n      }\n    />\n  );\n};\n","import React, { Component } from \"react\";\nimport { Alert } from \"react-bootstrap\";\n\nexport default class Error extends Component {\n  render() {\n    return (\n      <Alert variant=\"danger\">\n        <Alert.Heading>Oops. Something went wrong</Alert.Heading>\n        <p>{this.props.location.state.errDescription}</p>\n      </Alert>\n    );\n  }\n}\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Home from \"./containers/Home\";\nimport NotFound from \"./containers/NotFound\";\nimport Login from \"./containers/Login\";\nimport SignUp from \"./containers/SignUp\";\nimport AppliedRoute from \"./components/AppliedRoute\";\nimport NewNote from \"./containers/NewNote\";\nimport NewTable from \"./containers/NewTable\";\nimport Notes from \"./containers/Notes\";\nimport AuthenticatedRoute from \"./components/AuthenticatedRoute\";\nimport UnAuthenticatedRoute from \"./components/UnAuthenticatedRoute\";\nimport Error from \"./components/Error\";\n\nexport default ({ childProps }) => (\n  <Switch>\n    <AppliedRoute path=\"/\" exact component={Home} props={childProps} />\n    <UnAuthenticatedRoute\n      path=\"/login\"\n      exact\n      component={Login}\n      props={childProps}\n    />\n    <UnAuthenticatedRoute\n      path=\"/signup\"\n      exact\n      component={SignUp}\n      props={childProps}\n    />\n    <AuthenticatedRoute\n      path=\"/notes/new\"\n      exact\n      component={NewNote}\n      props={childProps}\n    />\n    <AuthenticatedRoute\n      path=\"/tables/new\"\n      exact\n      component={NewTable}\n      props={childProps}\n    />\n    <AuthenticatedRoute\n      path=\"/notes/:id\"\n      exact\n      component={Notes}\n      props={childProps}\n    />\n    <AppliedRoute path=\"/err\" exact component={Error} props={childProps} />\n    {/* Catch unmatched routes */}\n    <Route component={NotFound} />\n  </Switch>\n);\n","export default {\n  colors: {\n    background: \"#887962\",\n    appBackground: \"#ffedc5\",\n    primaryText: \"#584c3a\",\n    secondaryText: \"#555555\",\n    shadowColor: \"#3f3a12;\",\n    cardBackground: \"#fffaf1\",\n    noteColor: \"#e2e2e2\",\n    draggingColor: \"#BCA171\",\n    buttonColor: \"#887962\",\n    disabledColor: \"#6d6d6d\"\n  }\n};\n","export default {\n  colors: {\n    background: \"#101010\",\n    appBackground: \"#222831\",\n    primaryText: \"#ff5722\",\n    secondaryText: \"#fd7014\",\n    shadowColor: \"0a0a0a\",\n    cardBackground: \"#393e46\",\n    noteColor: \"#eeeeee\",\n    draggingColor: \"#DBDBDB\",\n    buttonColor: \"#fd7014\",\n    disabledColor: \"#6d6d6d\"\n  }\n};\n","import React, { Component, Fragment } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Nav, Navbar } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Routes from \"./Routes\";\nimport { Auth } from \"aws-amplify\";\nimport styled from \"styled-components\";\nimport { ThemeProvider } from \"styled-components\";\nimport lightTheme from \"./themes/light\";\nimport darkTheme from \"./themes/dark\";\n\nconst Container = styled.div`\n  width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ${props => props.theme.colors.background};\n`;\n\nconst AppContainer = styled.div`\n  text-align: center;\n  overflow: hidden;\n  min-height: 95vh;\n  background-color: ${props => props.theme.colors.appBackground};\n  box-shadow: 0px 0px 5px -1px ${props => props.theme.colors.shadowColor};\n  display: block;\n  border-radius: 5px;\n  flex: flex-grow;\n  width: 75vw;\n  margin: 20px;\n  flex-basis: 1;\n  padding: 20px;\n`;\n\nconst Logo = styled.span`\n  font-family: \"Nunito\", sans-serif;\n  font-weight: 700;\n  text-decoration: none;\n  color: ${props => props.theme.colors.primaryText};\n`;\n\nconst Switch = styled.label`\n  position: relative;\n  display: inline-block;\n  margin: 0 20px;\n  width: 60px;\n  height: 34px;\n`;\n\nconst Slider = styled.span`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: ${props => props.theme.colors.buttonColor};\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n  border-radius: 34px;\n  &::before {\n    border-radius: 50%;\n    position: absolute;\n    content: \"\";\n    height: 26px;\n    width: 26px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    transition: 0.4s;\n  }\n`;\n\nconst CheckBox = styled.input`\n  opacity: 0;\n  width: 0;\n  height: 0;\n\n  &:focus + ${Slider} {\n    box-shadow: 0 0 1px #2196f3;\n  }\n\n  &:checked + ${Slider}::before {\n    transform: translateX(26px);\n  }\n`;\n\nconst AuthenticationBtn = styled.span`\n  text-decoration: none;\n  color: ${props => props.theme.colors.secondaryText};\n`;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isAuthenticated: false,\n      isAuthenticating: true,\n      darkMode: false\n    };\n  }\n\n  // Load current session\n  async componentDidMount() {\n    try {\n      await Auth.currentSession();\n      this.userHasAuthenticated(true);\n    } catch (e) {\n      if (e !== \"No current user\") {\n        alert(e);\n      }\n    }\n\n    this.setState({ isAuthenticating: false });\n  }\n\n  /**\n   * Sets the state if authenticated or not\n   * @param {Boolean} authenticated Boolean value of authenticated\n   */\n  userHasAuthenticated = authenticated => {\n    this.setState({ isAuthenticated: authenticated });\n  };\n\n  // Logout handler\n  handleLogout = async () => {\n    await Auth.signOut();\n    this.userHasAuthenticated(false);\n    this.props.history.push(\"/login\");\n  };\n\n  // Toggle for light/dark mode\n  toggleDarkMode = () => {\n    this.setState({ darkMode: !this.state.darkMode });\n  };\n\n  render() {\n    const childProps = {\n      isAuthenticated: this.state.isAuthenticated,\n      userHasAuthenticated: this.userHasAuthenticated\n    };\n\n    return (\n      !this.state.isAuthenticating && (\n        <ThemeProvider theme={this.state.darkMode ? darkTheme : lightTheme}>\n          <Container>\n            <AppContainer>\n              <Navbar fluid=\"true\" collapseOnSelect className=\"nav\">\n                <Navbar.Brand>\n                  <Link to=\"/\" className=\"logo\">\n                    <Logo>myNotes</Logo>\n                  </Link>\n                </Navbar.Brand>\n                <Navbar.Toggle />\n                <Navbar.Collapse className=\"justify-content-end\">\n                  <Switch>\n                    <CheckBox type=\"checkbox\" onClick={this.toggleDarkMode} />\n                    <Slider />\n                  </Switch>\n                  <Nav>\n                    {this.state.isAuthenticated ? (\n                      <Nav.Link onClick={this.handleLogout}>\n                        <AuthenticationBtn>Logout</AuthenticationBtn>\n                      </Nav.Link>\n                    ) : (\n                      <Fragment>\n                        <LinkContainer to=\"/login\">\n                          <Nav.Link>\n                            <AuthenticationBtn>Login</AuthenticationBtn>\n                          </Nav.Link>\n                        </LinkContainer>\n                        <LinkContainer to=\"/signup\">\n                          <Nav.Link>\n                            <AuthenticationBtn>Sign up</AuthenticationBtn>\n                          </Nav.Link>\n                        </LinkContainer>\n                      </Fragment>\n                    )}\n                  </Nav>\n                </Navbar.Collapse>\n              </Navbar>\n              <Routes childProps={childProps} />\n            </AppContainer>\n          </Container>\n        </ThemeProvider>\n      )\n    );\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Amplify from \"aws-amplify\";\nimport config from \"./config\";\n\nAmplify.configure({\n  Auth: {\n    mandatorySignIn: true,\n    region: config.cognito.REGION,\n    userPoolId: config.cognito.USER_POOL_ID,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID,\n    userPoolWebClientId: config.cognito.APP_CLIENT_ID\n  },\n  Storage: {\n    region: config.s3.REGION,\n    bucket: config.s3.BUCKET,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID\n  },\n  API: {\n    endpoints: [\n      {\n        name: \"notes\",\n        endpoint: config.apiGateway.URL,\n        region: config.apiGateway.REGION\n      }\n    ]\n  }\n});\n\nReactDOM.render(\n  <Router basename=\"/myNotes\">\n    {\" \"}\n    <App />{\" \"}\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}